module.exports=[53696,a=>{"use strict";function b(a){return`₨ ${a.toFixed(2)}`}a.s(["formatCurrency",()=>b])},20465,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(71987),f=a.i(38246),g=a.i(19032),h=a.i(6704),i=a.i(27348);function j({product:a,className:c=""}){let d=[];return(a.isHotDeal&&d.push((0,b.jsxs)("div",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-700 ${c}`,children:[(0,b.jsx)(i.FiZap,{size:14}),"Hot Deal"]},"hotdeal")),a.isFeatured&&!a.isHotDeal&&d.push((0,b.jsxs)("div",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-700 ${c}`,children:[(0,b.jsx)(i.FiAward,{size:14}),"Featured"]},"featured")),a.isDailySpecial&&d.push((0,b.jsxs)("div",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 ${c}`,children:[(0,b.jsx)(i.FiTarget,{size:14}),"Today's Special"]},"daily")),a.isChefSpecial&&d.push((0,b.jsxs)("div",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-700 ${c}`,children:[(0,b.jsx)(i.FiStar,{size:14,style:{fill:"currentColor"}}),"Chef's Special"]},"chef")),"none"!==a.discountType&&"combo"!==a.discountType&&d.push((0,b.jsx)("div",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700 ${c}`,children:a.offerLabel||("percentage"===a.discountType?`${a.discountValue}% Off`:`₨${a.discountValue} Off`)},"discount")),0===d.length)?null:(0,b.jsx)("div",{className:"flex flex-wrap gap-1",children:d})}var k=a.i(53696);function l({product:a,size:c="md",showSavings:d=!0}){let e=a.discountType&&"none"!==a.discountType,f=a.finalPrice||a.price,g=a.savingsAmount||0,h=a.savingsPercentage||0,i={sm:"text-lg",md:"text-2xl",lg:"text-3xl"};return(0,b.jsx)("div",{className:"flex flex-col gap-1",children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm line-through text-text-muted",children:(0,k.formatCurrency)(a.price)}),d&&(0,b.jsxs)("span",{className:"text-xs font-semibold text-green-600 bg-green-50 px-2 py-0.5 rounded",children:["Save ",h.toFixed(0),"%"]})]}),(0,b.jsx)("span",{className:`font-bold text-green-600 ${i[c]}`,children:(0,k.formatCurrency)(f)}),d&&(0,b.jsxs)("span",{className:"text-xs text-text-muted",children:["You save ",(0,k.formatCurrency)(g)]})]}):(0,b.jsx)("span",{className:`font-bold text-text ${i[c]}`,children:(0,k.formatCurrency)(a.price)})})}let m=[{label:"Default",value:""},{label:"Price: Low to High",value:"price"},{label:"Price: High to Low",value:"-price"},{label:"Rating",value:"-rating"},{label:"Newest",value:"-createdAt"}],n=[{label:"All Items",value:""},{label:"Hot Deals",value:"isHotDeal"},{label:"Featured",value:"isFeatured"},{label:"Today's Special",value:"isDailySpecial"},{label:"Chef's Special",value:"isChefSpecial"},{label:"On Offer",value:"onOffer"}];function o(){(0,d.useRouter)();let[a,k]=(0,c.useState)([]),[o,p]=(0,c.useState)([]),[q,r]=(0,c.useState)({page:1,limit:12,total:0,pages:0}),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(1),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)("");(0,c.useEffect)(()=>{let a=setTimeout(()=>{J(w),F(1)},400);return()=>clearTimeout(a)},[w]),(0,c.useEffect)(()=>{K()},[]),(0,c.useEffect)(()=>{L()},[I,y,A,C,E,G]);let K=async()=>{try{let a=await g.default.get("/categories");p(a.data.categories||a.data||[])}catch{}},L=async()=>{t(!0);try{let a=new URLSearchParams;a.set("page",String(E)),a.set("limit","12"),I&&a.set("search",I),y&&a.set("category",y),A&&a.set("isVeg","true"),C&&a.set("sort",C),G&&a.set(G,"true");let b=await g.default.get(`/products?${a.toString()}`);k(b.data.products||[]),r(b.data.pagination||{page:1,limit:12,total:0,pages:0})}catch(a){h.default.error(a.response?.data?.message||"Failed to load menu")}finally{t(!1)}},M=async a=>{v(a);try{await g.default.post("/cart/add",{productId:a,quantity:1}),h.default.success("Added to cart!")}catch(a){h.default.error(a.response?.data?.message||"Failed to add to cart")}finally{v(null)}},N=a=>{z(a),F(1)},O=a=>"object"==typeof a.category&&null!==a.category?a.category.name:"",P=()=>(0,b.jsxs)("div",{className:"animate-pulse rounded-xl bg-white shadow-sm",children:[(0,b.jsx)("div",{className:"h-48 rounded-t-xl bg-gray-200"}),(0,b.jsxs)("div",{className:"p-4 space-y-3",children:[(0,b.jsx)("div",{className:"h-4 w-3/4 rounded bg-gray-200"}),(0,b.jsx)("div",{className:"h-3 w-1/2 rounded bg-gray-200"}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"h-5 w-16 rounded bg-gray-200"}),(0,b.jsx)("div",{className:"h-8 w-24 rounded bg-gray-200"})]})]})]});return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Menu"}),(0,b.jsx)("p",{className:"mt-1 text-gray-500",children:"Explore our delicious offerings and add your favorites to the cart."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(i.FiSearch,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),(0,b.jsx)("input",{type:"text",placeholder:"Search dishes...",value:w,onChange:a=>x(a.target.value),className:"w-full rounded-xl border border-gray-200 bg-white py-3 pl-10 pr-4 text-sm text-gray-700 placeholder-gray-400 shadow-sm outline-none transition-colors focus:border-[#c47a5a] focus:ring-1 focus:ring-[#c47a5a]"})]}),(0,b.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[(0,b.jsx)("button",{onClick:()=>N(""),className:`shrink-0 rounded-full px-4 py-2 text-sm font-medium transition-colors ${""===y?"bg-[#c47a5a] text-white":"bg-white text-gray-600 shadow-sm hover:bg-gray-50"}`,children:"All"}),o.filter(a=>"all"!==a.name.trim().toLowerCase()).map(a=>(0,b.jsx)("button",{onClick:()=>N(a._id),className:`shrink-0 rounded-full px-4 py-2 text-sm font-medium transition-colors ${y===a._id?"bg-[#c47a5a] text-white":"bg-white text-gray-600 shadow-sm hover:bg-gray-50"}`,children:a.name},a._id))]}),(0,b.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:n.map(a=>(0,b.jsx)("button",{onClick:()=>H(a.value),className:`shrink-0 rounded-full px-4 py-2 text-sm font-medium transition-colors ${G===a.value?"bg-[#c47a5a] text-white":"bg-white text-gray-600 shadow-sm hover:bg-gray-50"}`,children:a.label},a.value))}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,b.jsxs)("button",{onClick:()=>{B(a=>!a),F(1)},className:`flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-colors ${A?"bg-green-500 text-white":"bg-white text-gray-600 shadow-sm hover:bg-gray-50"}`,children:[(0,b.jsx)("span",{className:`inline-block h-3 w-3 rounded-sm border-2 ${A?"border-white bg-white":"border-green-500 bg-green-500"}`}),"Veg Only"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.FiFilter,{className:"h-4 w-4 text-gray-400"}),(0,b.jsx)("select",{value:C,onChange:a=>{D(a.target.value),F(1)},className:"rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 outline-none focus:border-[#c47a5a] focus:ring-1 focus:ring-[#c47a5a]",children:m.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]})]})]}),s?(0,b.jsx)("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8}).map((a,c)=>(0,b.jsx)(P,{},c))}):0===a.length?(0,b.jsxs)("div",{className:"py-20 text-center",children:[(0,b.jsx)(i.FiSearch,{className:"mx-auto mb-3 h-12 w-12 text-gray-300"}),(0,b.jsx)("p",{className:"text-lg font-medium text-gray-500",children:"No dishes found"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-400",children:"Try adjusting your search or filters."})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:a.map(a=>(0,b.jsxs)("div",{className:"group overflow-hidden rounded-xl bg-white shadow-sm transition-shadow hover:shadow-md",children:[(0,b.jsx)(f.default,{href:`/menu/${a._id}`,className:"block relative",children:(0,b.jsxs)("div",{className:"relative h-48 w-full overflow-hidden bg-gray-100",children:[(0,b.jsx)(e.default,{src:(0,g.getImageUrl)(a.image),alt:a.name,width:400,height:300,unoptimized:!0,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),(0,b.jsx)("span",{className:`absolute left-2 top-2 inline-flex h-5 w-5 items-center justify-center rounded-sm border-2 ${a.isVeg?"border-green-500":"border-red-500"}`,children:(0,b.jsx)("span",{className:`h-2 w-2 rounded-full ${a.isVeg?"bg-green-500":"bg-red-500"}`})}),!a.isAvailable&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:(0,b.jsx)("span",{className:"rounded-full bg-white px-3 py-1 text-sm font-medium text-gray-700",children:"Unavailable"})})]})}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)(f.default,{href:`/menu/${a._id}`,children:(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-800 line-clamp-1 hover:text-[#c47a5a] transition-colors",children:a.name})}),O(a)&&(0,b.jsx)("p",{className:"mt-0.5 text-xs text-gray-400",children:O(a)}),(0,b.jsx)("div",{className:"mt-2",children:(0,b.jsx)(j,{product:a,className:"text-xs"})}),(0,b.jsxs)("div",{className:"mt-1.5 flex items-center gap-1",children:[(0,b.jsx)(i.FiStar,{className:"h-3.5 w-3.5 fill-yellow-400 text-yellow-400"}),(0,b.jsx)("span",{className:"text-xs font-medium text-gray-600",children:a.rating.toFixed(1)}),(0,b.jsxs)("span",{className:"text-xs text-gray-400",children:["(",a.numReviews,")"]})]}),(0,b.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,b.jsx)(l,{product:a,size:"sm",showSavings:!1}),(0,b.jsxs)("button",{onClick:()=>M(a._id),disabled:!a.isAvailable||u===a._id,className:"flex items-center gap-1.5 rounded-lg bg-[#c47a5a] px-3 py-1.5 text-xs font-medium text-white transition-colors hover:bg-[#b56a4a] disabled:cursor-not-allowed disabled:opacity-50",children:[u===a._id?(0,b.jsx)("span",{className:"h-3.5 w-3.5 animate-spin rounded-full border-2 border-white border-t-transparent"}):(0,b.jsx)(i.FiShoppingCart,{className:"h-3.5 w-3.5"}),"Add"]})]})]})]},a._id))}),q.pages>1&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-4",children:[(0,b.jsx)("button",{onClick:()=>F(a=>Math.max(1,a-1)),disabled:1===E,className:"flex h-9 w-9 items-center justify-center rounded-lg border border-gray-200 bg-white text-gray-600 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40",children:(0,b.jsx)(i.FiChevronLeft,{className:"h-4 w-4"})}),Array.from({length:q.pages},(a,b)=>b+1).filter(a=>!!(q.pages<=5||1===a||a===q.pages||1>=Math.abs(a-E))).reduce((a,b,c,d)=>(c>0&&"number"==typeof d[c-1]&&b-d[c-1]>1&&a.push("..."),a.push(b),a),[]).map((a,c)=>"string"==typeof a?(0,b.jsx)("span",{className:"px-1 text-gray-400",children:"..."},`dots-${c}`):(0,b.jsx)("button",{onClick:()=>F(a),className:`flex h-9 w-9 items-center justify-center rounded-lg text-sm font-medium transition-colors ${E===a?"bg-[#c47a5a] text-white":"border border-gray-200 bg-white text-gray-600 hover:bg-gray-50"}`,children:a},a)),(0,b.jsx)("button",{onClick:()=>F(a=>Math.min(q.pages,a+1)),disabled:E===q.pages,className:"flex h-9 w-9 items-center justify-center rounded-lg border border-gray-200 bg-white text-gray-600 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40",children:(0,b.jsx)(i.FiChevronRight,{className:"h-4 w-4"})})]})]})}a.s(["default",()=>o],20465)}];

//# sourceMappingURL=src_57a57886._.js.map