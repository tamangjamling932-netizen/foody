module.exports=[53696,a=>{"use strict";function b(a){return`â‚¨ ${a.toFixed(2)}`}a.s(["formatCurrency",()=>b])},50783,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(32636),f=a.i(19032),g=a.i(6704),h=a.i(27348),i=a.i(53696);function j(){let{user:a}=(0,e.useAuth)(),j=(0,d.useRouter)(),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0);(0,c.useEffect)(()=>{o()},[]);let o=async()=>{try{let a=await f.default.get("/orders/my-orders");l(a.data.orders||a.data)}catch(a){g.default.error(a.response?.data?.message||"Failed to load orders")}finally{n(!1)}},p=k.length,q=k.filter(a=>"pending"===a.status||"confirmed"===a.status||"preparing"===a.status).length,r=k.filter(a=>"cancelled"!==a.status).reduce((a,b)=>a+b.total,0),s={};k.forEach(a=>{a.items.forEach(a=>{s[a.product]?s[a.product].count+=a.quantity:s[a.product]={name:a.name,count:a.quantity,image:a.image}})});let t=Object.values(s).sort((a,b)=>b.count-a.count).slice(0,3),u=k.slice(0,5);return m?(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-[#c47a5a] border-t-transparent"})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:"text-2xl font-bold text-gray-800",children:["Welcome back, ",a?.name?.split(" ")[0]||"Guest","!"]}),(0,b.jsx)("p",{className:"mt-1 text-gray-500",children:"Here's a summary of your orders and activity."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 rounded-xl bg-white p-5 shadow-sm",children:[(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-[#c47a5a]/10",children:(0,b.jsx)(h.FiShoppingBag,{className:"h-6 w-6 text-[#c47a5a]"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Orders"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:p})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 rounded-xl bg-white p-5 shadow-sm",children:[(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-yellow-100",children:(0,b.jsx)(h.FiClock,{className:"h-6 w-6 text-yellow-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Pending Orders"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:q})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 rounded-xl bg-white p-5 shadow-sm",children:[(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-green-100",children:(0,b.jsx)(h.FiDollarSign,{className:"h-6 w-6 text-green-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Total Spent"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:(0,i.formatCurrency)(r)})]})]})]}),t.length>0&&(0,b.jsxs)("div",{className:"rounded-xl bg-white p-5 shadow-sm",children:[(0,b.jsxs)("h2",{className:"mb-4 flex items-center gap-2 text-lg font-semibold text-gray-800",children:[(0,b.jsx)(h.FiTrendingUp,{className:"h-5 w-5 text-[#c47a5a]"}),"Your Favorite Items"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:t.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-lg bg-gradient-to-r from-[#c47a5a]/5 to-transparent p-4",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsxs)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-[#c47a5a]/10 text-sm font-bold text-[#c47a5a]",children:["#",c+1]})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-800 truncate",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-500",children:["Ordered ",a.count,"x"]})]})]},c))})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[(0,b.jsxs)("button",{onClick:()=>j.push("/menu"),className:"flex items-center justify-center gap-2 rounded-xl bg-[#c47a5a] px-5 py-3 font-medium text-white transition-colors hover:bg-[#b56a4a]",children:[(0,b.jsx)(h.FiPackage,{className:"h-5 w-5"}),"Browse Menu"]}),(0,b.jsxs)("button",{onClick:()=>j.push("/cart"),className:"flex items-center justify-center gap-2 rounded-xl border-2 border-[#c47a5a] px-5 py-3 font-medium text-[#c47a5a] transition-colors hover:bg-[#c47a5a]/5",children:[(0,b.jsx)(h.FiShoppingCart,{className:"h-5 w-5"}),"View Cart"]}),(0,b.jsxs)("button",{onClick:()=>j.push("/orders"),className:"flex items-center justify-center gap-2 rounded-xl border-2 border-[#c47a5a] px-5 py-3 font-medium text-[#c47a5a] transition-colors hover:bg-[#c47a5a]/5",children:[(0,b.jsx)(h.FiList,{className:"h-5 w-5"}),"View Orders"]})]}),(0,b.jsxs)("div",{className:"rounded-xl bg-white p-5 shadow-sm",children:[(0,b.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Recent Orders"}),k.length>5&&(0,b.jsxs)("button",{onClick:()=>j.push("/orders"),className:"flex items-center gap-1 text-sm font-medium text-[#c47a5a] hover:underline",children:["View All ",(0,b.jsx)(h.FiArrowRight,{className:"h-4 w-4"})]})]}),0===u.length?(0,b.jsxs)("div",{className:"py-10 text-center text-gray-400",children:[(0,b.jsx)(h.FiShoppingBag,{className:"mx-auto mb-2 h-10 w-10"}),(0,b.jsx)("p",{children:"No orders yet. Start by browsing the menu!"})]}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b text-gray-500",children:[(0,b.jsx)("th",{className:"pb-3 font-medium",children:"Order ID"}),(0,b.jsx)("th",{className:"pb-3 font-medium",children:"Items"}),(0,b.jsx)("th",{className:"pb-3 font-medium",children:"Total"}),(0,b.jsx)("th",{className:"pb-3 font-medium",children:"Status"}),(0,b.jsx)("th",{className:"pb-3 font-medium",children:"Date"})]})}),(0,b.jsx)("tbody",{children:u.map(a=>(0,b.jsxs)("tr",{className:"border-b last:border-0 hover:bg-gray-50 cursor-pointer",onClick:()=>j.push(`/orders/${a._id}`),children:[(0,b.jsxs)("td",{className:"py-3 font-mono text-xs text-gray-600",children:["#",a._id.slice(-6).toUpperCase()]}),(0,b.jsxs)("td",{className:"py-3 text-gray-700",children:[a.items.length," item",1!==a.items.length&&"s"]}),(0,b.jsx)("td",{className:"py-3 font-medium text-gray-800",children:(0,i.formatCurrency)(a.total)}),(0,b.jsx)("td",{className:"py-3",children:(0,b.jsx)("span",{className:`inline-block rounded-full px-2.5 py-0.5 text-xs font-medium capitalize ${(a=>{switch(a){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"preparing":return"bg-orange-100 text-orange-800";case"served":return"bg-purple-100 text-purple-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}})(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"py-3 text-gray-500",children:new Date(a.createdAt).toLocaleDateString()})]},a._id))})]})})]})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=src_c4efae42._.js.map