{"version":3,"sources":["../../../../src/lib/currency.ts","../../../../src/app/%28dashboard%29/%28customer%29/menu/page.tsx","../../../../src/components/product/OfferBadge.tsx","../../../../src/components/product/PriceDisplay.tsx"],"sourcesContent":["// Nepali Rupee currency formatter\nexport const CURRENCY_SYMBOL = \"₨\"; // Nepali Rupee Symbol\nexport const CURRENCY_CODE = \"NPR\";\n\nexport function formatCurrency(amount: number): string {\n  return `${CURRENCY_SYMBOL} ${amount.toFixed(2)}`;\n}\n\nexport function formatCurrencyCompact(amount: number): string {\n  return `${CURRENCY_SYMBOL}${amount.toFixed(2)}`;\n}\n","\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport API from \"@/lib/api\";\nimport { getImageUrl } from \"@/lib/api\";\nimport { Product, Category, Pagination } from \"@/types\";\nimport toast from \"react-hot-toast\";\nimport {\n  FiSearch,\n  FiStar,\n  FiShoppingCart,\n  FiChevronLeft,\n  FiChevronRight,\n  FiFilter,\n} from \"react-icons/fi\";\nimport OfferBadge from \"@/components/product/OfferBadge\";\nimport PriceDisplay from \"@/components/product/PriceDisplay\";\n\nconst SORT_OPTIONS = [\n  { label: \"Default\", value: \"\" },\n  { label: \"Price: Low to High\", value: \"price\" },\n  { label: \"Price: High to Low\", value: \"-price\" },\n  { label: \"Rating\", value: \"-rating\" },\n  { label: \"Newest\", value: \"-createdAt\" },\n];\n\nconst FILTER_OPTIONS = [\n  { label: \"All Items\", value: \"\" },\n  { label: \"Hot Deals\", value: \"isHotDeal\" },\n  { label: \"Featured\", value: \"isFeatured\" },\n  { label: \"Today's Special\", value: \"isDailySpecial\" },\n  { label: \"Chef's Special\", value: \"isChefSpecial\" },\n  { label: \"On Offer\", value: \"onOffer\" },\n];\n\nexport default function MenuPage() {\n  const router = useRouter();\n  const [products, setProducts] = useState<Product[]>([]);\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [pagination, setPagination] = useState<Pagination>({\n    page: 1,\n    limit: 12,\n    total: 0,\n    pages: 0,\n  });\n  const [loading, setLoading] = useState(true);\n  const [addingToCart, setAddingToCart] = useState<string | null>(null);\n\n  // Filters\n  const [search, setSearch] = useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [isVeg, setIsVeg] = useState(false);\n  const [sort, setSort] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [promotionalFilter, setPromotionalFilter] = useState(\"\");\n\n  // Debounced search\n  const [debouncedSearch, setDebouncedSearch] = useState(\"\");\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedSearch(search);\n      setPage(1);\n    }, 400);\n    return () => clearTimeout(timer);\n  }, [search]);\n\n  useEffect(() => {\n    fetchCategories();\n  }, []);\n\n  useEffect(() => {\n    fetchProducts();\n  }, [debouncedSearch, selectedCategory, isVeg, sort, page, promotionalFilter]);\n\n  const fetchCategories = async () => {\n    try {\n      const res = await API.get(\"/categories\");\n      setCategories(res.data.categories || res.data || []);\n    } catch {\n      // silently fail - categories are optional filter\n    }\n  };\n\n  const fetchProducts = async () => {\n    setLoading(true);\n    try {\n      const params = new URLSearchParams();\n      params.set(\"page\", String(page));\n      params.set(\"limit\", \"12\");\n      if (debouncedSearch) params.set(\"search\", debouncedSearch);\n      if (selectedCategory) params.set(\"category\", selectedCategory);\n      if (isVeg) params.set(\"isVeg\", \"true\");\n      if (sort) params.set(\"sort\", sort);\n      if (promotionalFilter) params.set(promotionalFilter, \"true\");\n\n      const res = await API.get(`/products?${params.toString()}`);\n      setProducts(res.data.products || []);\n      setPagination(\n        res.data.pagination || { page: 1, limit: 12, total: 0, pages: 0 }\n      );\n    } catch (error: any) {\n      toast.error(error.response?.data?.message || \"Failed to load menu\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddToCart = async (productId: string) => {\n    setAddingToCart(productId);\n    try {\n      await API.post(\"/cart/add\", { productId, quantity: 1 });\n      toast.success(\"Added to cart!\");\n    } catch (error: any) {\n      toast.error(error.response?.data?.message || \"Failed to add to cart\");\n    } finally {\n      setAddingToCart(null);\n    }\n  };\n\n  const handleCategoryChange = (categoryId: string) => {\n    setSelectedCategory(categoryId);\n    setPage(1);\n  };\n\n  const handleVegToggle = () => {\n    setIsVeg((prev) => !prev);\n    setPage(1);\n  };\n\n  const handleSortChange = (value: string) => {\n    setSort(value);\n    setPage(1);\n  };\n\n  const getCategoryName = (product: Product): string => {\n    if (typeof product.category === \"object\" && product.category !== null) {\n      return product.category.name;\n    }\n    return \"\";\n  };\n\n  // Skeleton loader\n  const ProductSkeleton = () => (\n    <div className=\"animate-pulse rounded-xl bg-white shadow-sm\">\n      <div className=\"h-48 rounded-t-xl bg-gray-200\" />\n      <div className=\"p-4 space-y-3\">\n        <div className=\"h-4 w-3/4 rounded bg-gray-200\" />\n        <div className=\"h-3 w-1/2 rounded bg-gray-200\" />\n        <div className=\"flex items-center justify-between\">\n          <div className=\"h-5 w-16 rounded bg-gray-200\" />\n          <div className=\"h-8 w-24 rounded bg-gray-200\" />\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-800\">Menu</h1>\n        <p className=\"mt-1 text-gray-500\">\n          Explore our delicious offerings and add your favorites to the cart.\n        </p>\n      </div>\n\n      {/* Search & Filters */}\n      <div className=\"space-y-4\">\n        {/* Search Bar */}\n        <div className=\"relative\">\n          <FiSearch className=\"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search dishes...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            className=\"w-full rounded-xl border border-gray-200 bg-white py-3 pl-10 pr-4 text-sm text-gray-700 placeholder-gray-400 shadow-sm outline-none transition-colors focus:border-[#c47a5a] focus:ring-1 focus:ring-[#c47a5a]\"\n          />\n        </div>\n\n        {/* Category Pills */}\n        <div className=\"flex gap-2 overflow-x-auto pb-2 scrollbar-hide\">\n          <button\n            onClick={() => handleCategoryChange(\"\")}\n            className={`shrink-0 rounded-full px-4 py-2 text-sm font-medium transition-colors ${\n              selectedCategory === \"\"\n                ? \"bg-[#c47a5a] text-white\"\n                : \"bg-white text-gray-600 shadow-sm hover:bg-gray-50\"\n            }`}\n          >\n            All\n          </button>\n          {categories.filter((cat) => cat.name.trim().toLowerCase() !== \"all\").map((cat) => (\n            <button\n              key={cat._id}\n              onClick={() => handleCategoryChange(cat._id)}\n              className={`shrink-0 rounded-full px-4 py-2 text-sm font-medium transition-colors ${\n                selectedCategory === cat._id\n                  ? \"bg-[#c47a5a] text-white\"\n                  : \"bg-white text-gray-600 shadow-sm hover:bg-gray-50\"\n              }`}\n            >\n              {cat.name}\n            </button>\n          ))}\n        </div>\n\n        {/* Promotional Filters */}\n        <div className=\"flex gap-2 overflow-x-auto pb-2 scrollbar-hide\">\n          {FILTER_OPTIONS.map((filter) => (\n            <button\n              key={filter.value}\n              onClick={() => setPromotionalFilter(filter.value)}\n              className={`shrink-0 rounded-full px-4 py-2 text-sm font-medium transition-colors ${\n                promotionalFilter === filter.value\n                  ? \"bg-[#c47a5a] text-white\"\n                  : \"bg-white text-gray-600 shadow-sm hover:bg-gray-50\"\n              }`}\n            >\n              {filter.label}\n            </button>\n          ))}\n        </div>\n\n        {/* Veg Toggle & Sort */}\n        <div className=\"flex flex-wrap items-center gap-4\">\n          {/* Veg Toggle */}\n          <button\n            onClick={handleVegToggle}\n            className={`flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-colors ${\n              isVeg\n                ? \"bg-green-500 text-white\"\n                : \"bg-white text-gray-600 shadow-sm hover:bg-gray-50\"\n            }`}\n          >\n            <span\n              className={`inline-block h-3 w-3 rounded-sm border-2 ${\n                isVeg ? \"border-white bg-white\" : \"border-green-500 bg-green-500\"\n              }`}\n            />\n            Veg Only\n          </button>\n\n          {/* Sort Dropdown */}\n          <div className=\"flex items-center gap-2\">\n            <FiFilter className=\"h-4 w-4 text-gray-400\" />\n            <select\n              value={sort}\n              onChange={(e) => handleSortChange(e.target.value)}\n              className=\"rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 outline-none focus:border-[#c47a5a] focus:ring-1 focus:ring-[#c47a5a]\"\n            >\n              {SORT_OPTIONS.map((opt) => (\n                <option key={opt.value} value={opt.value}>\n                  {opt.label}\n                </option>\n              ))}\n            </select>\n          </div>\n        </div>\n      </div>\n\n      {/* Product Grid */}\n      {loading ? (\n        <div className=\"grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\n          {Array.from({ length: 8 }).map((_, i) => (\n            <ProductSkeleton key={i} />\n          ))}\n        </div>\n      ) : products.length === 0 ? (\n        <div className=\"py-20 text-center\">\n          <FiSearch className=\"mx-auto mb-3 h-12 w-12 text-gray-300\" />\n          <p className=\"text-lg font-medium text-gray-500\">No dishes found</p>\n          <p className=\"mt-1 text-sm text-gray-400\">\n            Try adjusting your search or filters.\n          </p>\n        </div>\n      ) : (\n        <div className=\"grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\">\n          {products.map((product) => (\n            <div\n              key={product._id}\n              className=\"group overflow-hidden rounded-xl bg-white shadow-sm transition-shadow hover:shadow-md\"\n            >\n              {/* Image */}\n              <Link href={`/menu/${product._id}`} className=\"block relative\">\n                <div className=\"relative h-48 w-full overflow-hidden bg-gray-100\">\n                  <Image\n                    src={getImageUrl(product.image)}\n                    alt={product.name}\n                    width={400}\n                    height={300}\n                    unoptimized\n                    className=\"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105\"\n                  />\n                  {/* Veg/Non-veg Badge */}\n                  <span\n                    className={`absolute left-2 top-2 inline-flex h-5 w-5 items-center justify-center rounded-sm border-2 ${\n                      product.isVeg\n                        ? \"border-green-500\"\n                        : \"border-red-500\"\n                    }`}\n                  >\n                    <span\n                      className={`h-2 w-2 rounded-full ${\n                        product.isVeg ? \"bg-green-500\" : \"bg-red-500\"\n                      }`}\n                    />\n                  </span>\n\n                  {!product.isAvailable && (\n                    <div className=\"absolute inset-0 flex items-center justify-center bg-black/50\">\n                      <span className=\"rounded-full bg-white px-3 py-1 text-sm font-medium text-gray-700\">\n                        Unavailable\n                      </span>\n                    </div>\n                  )}\n                </div>\n              </Link>\n\n              {/* Info */}\n              <div className=\"p-4\">\n                <Link href={`/menu/${product._id}`}>\n                  <h3 className=\"text-sm font-semibold text-gray-800 line-clamp-1 hover:text-[#c47a5a] transition-colors\">\n                    {product.name}\n                  </h3>\n                </Link>\n\n                {getCategoryName(product) && (\n                  <p className=\"mt-0.5 text-xs text-gray-400\">\n                    {getCategoryName(product)}\n                  </p>\n                )}\n\n                {/* Promotional Badges */}\n                <div className=\"mt-2\">\n                  <OfferBadge product={product} className=\"text-xs\" />\n                </div>\n\n                {/* Rating */}\n                <div className=\"mt-1.5 flex items-center gap-1\">\n                  <FiStar className=\"h-3.5 w-3.5 fill-yellow-400 text-yellow-400\" />\n                  <span className=\"text-xs font-medium text-gray-600\">\n                    {product.rating.toFixed(1)}\n                  </span>\n                  <span className=\"text-xs text-gray-400\">\n                    ({product.numReviews})\n                  </span>\n                </div>\n\n                {/* Price & Add to Cart */}\n                <div className=\"mt-3 flex items-center justify-between\">\n                  <PriceDisplay product={product} size=\"sm\" showSavings={false} />\n                  <button\n                    onClick={() => handleAddToCart(product._id)}\n                    disabled={!product.isAvailable || addingToCart === product._id}\n                    className=\"flex items-center gap-1.5 rounded-lg bg-[#c47a5a] px-3 py-1.5 text-xs font-medium text-white transition-colors hover:bg-[#b56a4a] disabled:cursor-not-allowed disabled:opacity-50\"\n                  >\n                    {addingToCart === product._id ? (\n                      <span className=\"h-3.5 w-3.5 animate-spin rounded-full border-2 border-white border-t-transparent\" />\n                    ) : (\n                      <FiShoppingCart className=\"h-3.5 w-3.5\" />\n                    )}\n                    Add\n                  </button>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n\n      {/* Pagination */}\n      {pagination.pages > 1 && (\n        <div className=\"flex items-center justify-center gap-2 pt-4\">\n          <button\n            onClick={() => setPage((p) => Math.max(1, p - 1))}\n            disabled={page === 1}\n            className=\"flex h-9 w-9 items-center justify-center rounded-lg border border-gray-200 bg-white text-gray-600 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40\"\n          >\n            <FiChevronLeft className=\"h-4 w-4\" />\n          </button>\n\n          {Array.from({ length: pagination.pages }, (_, i) => i + 1)\n            .filter((p) => {\n              if (pagination.pages <= 5) return true;\n              if (p === 1 || p === pagination.pages) return true;\n              if (Math.abs(p - page) <= 1) return true;\n              return false;\n            })\n            .reduce<(number | string)[]>((acc, p, i, arr) => {\n              if (i > 0 && typeof arr[i - 1] === \"number\" && p - (arr[i - 1] as number) > 1) {\n                acc.push(\"...\");\n              }\n              acc.push(p);\n              return acc;\n            }, [])\n            .map((p, i) =>\n              typeof p === \"string\" ? (\n                <span key={`dots-${i}`} className=\"px-1 text-gray-400\">\n                  ...\n                </span>\n              ) : (\n                <button\n                  key={p}\n                  onClick={() => setPage(p)}\n                  className={`flex h-9 w-9 items-center justify-center rounded-lg text-sm font-medium transition-colors ${\n                    page === p\n                      ? \"bg-[#c47a5a] text-white\"\n                      : \"border border-gray-200 bg-white text-gray-600 hover:bg-gray-50\"\n                  }`}\n                >\n                  {p}\n                </button>\n              )\n            )}\n\n          <button\n            onClick={() => setPage((p) => Math.min(pagination.pages, p + 1))}\n            disabled={page === pagination.pages}\n            className=\"flex h-9 w-9 items-center justify-center rounded-lg border border-gray-200 bg-white text-gray-600 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40\"\n          >\n            <FiChevronRight className=\"h-4 w-4\" />\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { Product } from \"@/types\";\nimport { FiZap, FiAward, FiTarget, FiStar } from \"react-icons/fi\";\n\ninterface OfferBadgeProps {\n  product: Product;\n  className?: string;\n}\n\nexport default function OfferBadge({ product, className = \"\" }: OfferBadgeProps) {\n  const badges = [];\n\n  if (product.isHotDeal) {\n    badges.push(\n      <div key=\"hotdeal\" className={`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-700 ${className}`}>\n        <FiZap size={14} />\n        Hot Deal\n      </div>\n    );\n  }\n\n  if (product.isFeatured && !product.isHotDeal) {\n    badges.push(\n      <div key=\"featured\" className={`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-700 ${className}`}>\n        <FiAward size={14} />\n        Featured\n      </div>\n    );\n  }\n\n  if (product.isDailySpecial) {\n    badges.push(\n      <div key=\"daily\" className={`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 ${className}`}>\n        <FiTarget size={14} />\n        Today's Special\n      </div>\n    );\n  }\n\n  if (product.isChefSpecial) {\n    badges.push(\n      <div key=\"chef\" className={`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-700 ${className}`}>\n        <FiStar size={14} style={{ fill: 'currentColor' }} />\n        Chef's Special\n      </div>\n    );\n  }\n\n  if (product.discountType !== 'none' && product.discountType !== 'combo') {\n    badges.push(\n      <div key=\"discount\" className={`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700 ${className}`}>\n        {product.offerLabel || (product.discountType === 'percentage' ? `${product.discountValue}% Off` : `₨${product.discountValue} Off`)}\n      </div>\n    );\n  }\n\n  if (badges.length === 0) return null;\n\n  return (\n    <div className=\"flex flex-wrap gap-1\">\n      {badges}\n    </div>\n  );\n}\n","\"use client\";\n\nimport { Product } from \"@/types\";\nimport { formatCurrency } from \"@/lib/currency\";\n\ninterface PriceDisplayProps {\n  product: Product;\n  size?: 'sm' | 'md' | 'lg';\n  showSavings?: boolean;\n}\n\nexport default function PriceDisplay({ product, size = 'md', showSavings = true }: PriceDisplayProps) {\n  const hasDiscount = product.discountType && product.discountType !== 'none';\n  const finalPrice = product.finalPrice || product.price;\n  const savingsAmount = product.savingsAmount || 0;\n  const savingsPercentage = product.savingsPercentage || 0;\n\n  const sizeClasses = {\n    sm: 'text-sm',\n    md: 'text-base',\n    lg: 'text-lg',\n  };\n\n  const priceSizeClasses = {\n    sm: 'text-lg',\n    md: 'text-2xl',\n    lg: 'text-3xl',\n  };\n\n  return (\n    <div className=\"flex flex-col gap-1\">\n      {hasDiscount ? (\n        <>\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-sm line-through text-text-muted\">\n              {formatCurrency(product.price)}\n            </span>\n            {showSavings && (\n              <span className=\"text-xs font-semibold text-green-600 bg-green-50 px-2 py-0.5 rounded\">\n                Save {savingsPercentage.toFixed(0)}%\n              </span>\n            )}\n          </div>\n          <span className={`font-bold text-green-600 ${priceSizeClasses[size]}`}>\n            {formatCurrency(finalPrice)}\n          </span>\n          {showSavings && (\n            <span className=\"text-xs text-text-muted\">\n              You save {formatCurrency(savingsAmount)}\n            </span>\n          )}\n        </>\n      ) : (\n        <span className={`font-bold text-text ${priceSizeClasses[size]}`}>\n          {formatCurrency(product.price)}\n        </span>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}