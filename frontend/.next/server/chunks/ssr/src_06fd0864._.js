module.exports=[66844,a=>{"use strict";var b=a.i(56757);let c=b.z.object({email:b.z.string().email("Valid email is required"),password:b.z.string().min(1,"Password is required")}),d=b.z.object({name:b.z.string().min(2,"Name must be at least 2 characters"),email:b.z.string().email("Valid email is required"),password:b.z.string().min(6,"Password must be at least 6 characters"),confirmPassword:b.z.string().min(1,"Please confirm your password")}).refine(a=>a.password===a.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),e=b.z.object({email:b.z.string().email("Valid email is required")}),f=b.z.object({password:b.z.string().min(6,"Password must be at least 6 characters"),confirmPassword:b.z.string().min(1,"Please confirm your password")}).refine(a=>a.password===a.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),g=b.z.object({name:b.z.string().min(2,"Name must be at least 2 characters"),email:b.z.string().email("Valid email is required")}),h=b.z.object({currentPassword:b.z.string().min(1,"Current password is required"),newPassword:b.z.string().min(6,"New password must be at least 6 characters"),confirmNewPassword:b.z.string().min(1,"Please confirm your password")}).refine(a=>a.newPassword===a.confirmNewPassword,{message:"Passwords don't match",path:["confirmNewPassword"]});a.s(["forgotPasswordSchema",0,e,"loginSchema",0,c,"resetPasswordSchema",0,f,"signupSchema",0,d,"updatePasswordSchema",0,h,"updateProfileSchema",0,g])},25094,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(95245),e=a.i(59501),f=a.i(66844),g=a.i(32636),h=a.i(19032),i=a.i(6704),j=a.i(71987),k=a.i(27348);function l(){let{user:a,setUser:l}=(0,g.useAuth)(),[m,n]=(0,c.useState)("profile"),[o,p]=(0,c.useState)(!1),q=(0,c.useRef)(null),{register:r,handleSubmit:s,formState:{errors:t,isSubmitting:u}}=(0,d.useForm)({resolver:(0,e.zodResolver)(f.updateProfileSchema),values:{name:a?.name||"",email:a?.email||""}}),{register:v,handleSubmit:w,formState:{errors:x,isSubmitting:y},reset:z}=(0,d.useForm)({resolver:(0,e.zodResolver)(f.updatePasswordSchema)}),A=async a=>{try{let b=await h.default.put("/auth/me",a);l(b.data.user),i.default.success("Profile updated successfully")}catch(a){i.default.error(a.response?.data?.message||"Failed to update profile")}},B=async a=>{try{await h.default.put("/auth/update-password",{currentPassword:a.currentPassword,newPassword:a.newPassword}),i.default.success("Password updated successfully"),z()}catch(a){i.default.error(a.response?.data?.message||"Failed to update password")}},C=async a=>{let b=a.target.files?.[0];if(!b)return;let c=new FormData;c.append("avatar",b);try{p(!0);let a=await h.default.put("/auth/me/avatar",c);l(a.data.user),i.default.success("Avatar updated successfully")}catch(a){i.default.error(a.response?.data?.message||"Failed to upload avatar")}finally{p(!1),q.current&&(q.current.value="")}};return a?(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"relative bg-linear-to-r from-primary to-[#d4956f] rounded-2xl p-8 mb-8 text-white overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,b.jsxs)("div",{className:"relative flex flex-col items-center text-center",children:[(0,b.jsxs)("div",{className:"relative group mb-4",children:[(0,b.jsx)("div",{className:"w-[120px] h-[120px] rounded-full border-4 border-white/30 overflow-hidden bg-white/20 flex items-center justify-center",children:a.avatar?(0,b.jsx)(j.default,{src:(0,h.getImageUrl)(a.avatar),alt:a.name,width:120,height:120,className:"w-full h-full object-cover",unoptimized:!0}):(0,b.jsx)("span",{className:"text-4xl font-bold text-white",children:a.name.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2)})}),(0,b.jsx)("button",{type:"button",onClick:()=>q.current?.click(),disabled:o,className:"absolute inset-0 rounded-full bg-black/0 group-hover:bg-black/40 flex items-center justify-center transition-colors cursor-pointer",children:(0,b.jsx)(k.FiCamera,{size:24,className:"text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),(0,b.jsx)("input",{ref:q,type:"file",accept:"image/*",onChange:C,className:"hidden"}),o&&(0,b.jsx)("div",{className:"absolute inset-0 rounded-full bg-black/50 flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),(0,b.jsx)("h1",{className:"text-2xl font-bold",children:a.name}),(0,b.jsx)("p",{className:"text-white/80 text-sm mt-1",children:a.email})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"md:col-span-1",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 space-y-5",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gray-400 uppercase tracking-wider",children:"Account Info"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(k.FiShield,{className:"text-primary",size:18})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Role"}),(0,b.jsx)("span",{className:"inline-block mt-0.5 rounded-full bg-primary/10 text-primary px-2.5 py-0.5 text-xs font-semibold capitalize",children:a.role})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(k.FiCalendar,{className:"text-primary",size:18})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Member Since"}),(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700",children:new Date(a.createdAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(k.FiMail,{className:"text-primary",size:18})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-gray-400",children:"Email"}),(0,b.jsx)("p",{className:"text-sm font-medium text-gray-700 break-all",children:a.email})]})]})]})}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,b.jsxs)("button",{onClick:()=>n("profile"),className:`flex items-center gap-2 px-5 py-2.5 rounded-lg text-sm font-medium transition-all ${"profile"===m?"bg-primary text-white shadow-md shadow-primary/25":"bg-white text-gray-500 hover:bg-gray-50 shadow-sm"}`,children:[(0,b.jsx)(k.FiEdit3,{size:14}),"Edit Profile"]}),(0,b.jsxs)("button",{onClick:()=>n("password"),className:`flex items-center gap-2 px-5 py-2.5 rounded-lg text-sm font-medium transition-all ${"password"===m?"bg-primary text-white shadow-md shadow-primary/25":"bg-white text-gray-500 hover:bg-gray-50 shadow-sm"}`,children:[(0,b.jsx)(k.FiLock,{size:14}),"Change Password"]})]}),"profile"===m&&(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-5",children:"Edit Profile"}),(0,b.jsxs)("form",{onSubmit:s(A),className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Full Name"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.FiUser,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),(0,b.jsx)("input",{...r("name"),className:"w-full pl-11 pr-4 py-3 rounded-lg border border-gray-200 bg-gray-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all",placeholder:"Enter your name"})]}),t.name&&(0,b.jsx)("p",{className:"text-red-500 text-xs mt-1.5",children:t.name.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Email Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.FiMail,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),(0,b.jsx)("input",{...r("email"),type:"email",className:"w-full pl-11 pr-4 py-3 rounded-lg border border-gray-200 bg-gray-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all",placeholder:"Enter your email"})]}),t.email&&(0,b.jsx)("p",{className:"text-red-500 text-xs mt-1.5",children:t.email.message})]}),(0,b.jsx)("button",{type:"submit",disabled:u,className:"w-full py-3 bg-primary text-white rounded-lg font-semibold hover:bg-[#b06a4a] transition-colors disabled:opacity-50 shadow-md shadow-primary/20",children:u?"Saving...":"Save Changes"})]})]}),"password"===m&&(0,b.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-800 mb-5",children:"Change Password"}),(0,b.jsxs)("form",{onSubmit:w(B),className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Current Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.FiLock,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),(0,b.jsx)("input",{...v("currentPassword"),type:"password",className:"w-full pl-11 pr-4 py-3 rounded-lg border border-gray-200 bg-gray-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all",placeholder:"Enter current password"})]}),x.currentPassword&&(0,b.jsx)("p",{className:"text-red-500 text-xs mt-1.5",children:x.currentPassword.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"New Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.FiLock,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),(0,b.jsx)("input",{...v("newPassword"),type:"password",className:"w-full pl-11 pr-4 py-3 rounded-lg border border-gray-200 bg-gray-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all",placeholder:"Enter new password"})]}),x.newPassword&&(0,b.jsx)("p",{className:"text-red-500 text-xs mt-1.5",children:x.newPassword.message})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Confirm New Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(k.FiLock,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-gray-400"}),(0,b.jsx)("input",{...v("confirmNewPassword"),type:"password",className:"w-full pl-11 pr-4 py-3 rounded-lg border border-gray-200 bg-gray-50 focus:bg-white focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all",placeholder:"Confirm new password"})]}),x.confirmNewPassword&&(0,b.jsx)("p",{className:"text-red-500 text-xs mt-1.5",children:x.confirmNewPassword.message})]}),(0,b.jsx)("button",{type:"submit",disabled:y,className:"w-full py-3 bg-primary text-white rounded-lg font-semibold hover:bg-[#b06a4a] transition-colors disabled:opacity-50 shadow-md shadow-primary/20",children:y?"Updating...":"Update Password"})]})]})]})]})]}):null}a.s(["default",()=>l])}];

//# sourceMappingURL=src_06fd0864._.js.map