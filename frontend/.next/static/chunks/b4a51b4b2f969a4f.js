(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4027,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(9165),r=e.i(5766),l=e.i(92199);function i(){let[e,i]=(0,a.useState)([]),[d,c]=(0,a.useState)({page:1,limit:10,total:0,pages:1}),[n,o]=(0,a.useState)(!0),[x,m]=(0,a.useState)(null);(0,a.useEffect)(()=>{p()},[d.page]);let p=async()=>{o(!0);try{let e=await s.default.get("/reviews",{params:{page:d.page,limit:d.limit}});i(e.data.reviews||e.data.data||[]),e.data.pagination&&c(e.data.pagination)}catch{r.default.error("Failed to load reviews")}finally{o(!1)}},g=async e=>{if(confirm("Are you sure you want to delete this review?")){m(e);try{await s.default.delete(`/reviews/${e}`),i(t=>t.filter(t=>t._id!==e)),r.default.success("Review deleted")}catch(e){r.default.error(e.response?.data?.message||"Failed to delete review")}finally{m(null)}}};return n&&0===e.length?(0,t.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,t.jsx)("div",{className:"h-10 w-10 animate-spin rounded-full border-4 border-[#c47a5a] border-t-transparent"})}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Reviews"}),(0,t.jsx)("p",{className:"mt-1 text-gray-500",children:"Manage product reviews"})]}),(0,t.jsx)("div",{className:"overflow-x-auto rounded-xl bg-white shadow-sm",children:(0,t.jsxs)("table",{className:"w-full text-left text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-gray-100",children:[(0,t.jsx)("th",{className:"px-4 py-3 font-medium text-gray-500",children:"User"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium text-gray-500",children:"Product"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium text-gray-500",children:"Rating"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium text-gray-500",children:"Comment"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium text-gray-500",children:"Date"}),(0,t.jsx)("th",{className:"px-4 py-3 font-medium text-gray-500",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:0===e.length?(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:6,className:"px-4 py-12 text-center text-gray-400",children:[(0,t.jsx)(l.FiMessageSquare,{className:"mx-auto mb-2 h-10 w-10"}),(0,t.jsx)("p",{children:"No reviews found."})]})}):e.map(e=>(0,t.jsxs)("tr",{className:"border-b border-gray-50 hover:bg-gray-50/50",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-gray-800 font-medium",children:"object"==typeof e.user&&null!==e.user?e.user.name:"User"}),(0,t.jsx)("td",{className:"px-4 py-3 text-gray-600",children:"object"==typeof e.product&&null!==e.product?e.product.name||"Product":String(e.product).slice(-6).toUpperCase()}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(a=>(0,t.jsx)(l.FiStar,{size:14,className:a<=e.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"},a))})}),(0,t.jsx)("td",{className:"px-4 py-3 text-gray-600 max-w-xs",children:((e,t=60)=>e?e.length>t?e.slice(0,t)+"...":e:"â€”")(e.comment)}),(0,t.jsx)("td",{className:"px-4 py-3 text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString()}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("button",{onClick:()=>g(e._id),disabled:x===e._id,className:"inline-flex items-center gap-1 rounded-lg bg-red-50 px-3 py-1.5 text-xs font-medium text-red-700 transition-colors hover:bg-red-100 disabled:opacity-50",children:[(0,t.jsx)(l.FiTrash2,{className:"h-3.5 w-3.5"}),x===e._id?"Deleting...":"Delete"]})})]},e._id))})]})}),d.pages>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["Showing page ",d.page," of ",d.pages," (",d.total," reviews)"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>c(e=>({...e,page:e.page-1})),disabled:d.page<=1,className:"rounded-lg border border-gray-200 p-2 text-gray-600 transition-colors hover:bg-gray-50 disabled:opacity-50",children:(0,t.jsx)(l.FiChevronLeft,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>c(e=>({...e,page:e.page+1})),disabled:d.page>=d.pages,className:"rounded-lg border border-gray-200 p-2 text-gray-600 transition-colors hover:bg-gray-50 disabled:opacity-50",children:(0,t.jsx)(l.FiChevronRight,{className:"h-4 w-4"})})]})]})]})}e.s(["default",()=>i])}]);