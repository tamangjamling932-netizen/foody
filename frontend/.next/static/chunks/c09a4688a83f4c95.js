(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29710,e=>{"use strict";function s(e){return`â‚¨ ${e.toFixed(2)}`}e.s(["formatCurrency",()=>s])},2378,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(18566),l=e.i(57688),r=e.i(22016),i=e.i(9165),n=e.i(5766),d=e.i(92199);function o({product:e,className:t=""}){let a=[];return(e.isHotDeal&&a.push((0,s.jsxs)("div",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-red-100 text-red-700 ${t}`,children:[(0,s.jsx)(d.FiZap,{size:14}),"Hot Deal"]},"hotdeal")),e.isFeatured&&!e.isHotDeal&&a.push((0,s.jsxs)("div",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-700 ${t}`,children:[(0,s.jsx)(d.FiAward,{size:14}),"Featured"]},"featured")),e.isDailySpecial&&a.push((0,s.jsxs)("div",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700 ${t}`,children:[(0,s.jsx)(d.FiTarget,{size:14}),"Today's Special"]},"daily")),e.isChefSpecial&&a.push((0,s.jsxs)("div",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-orange-100 text-orange-700 ${t}`,children:[(0,s.jsx)(d.FiStar,{size:14,style:{fill:"currentColor"}}),"Chef's Special"]},"chef")),"none"!==e.discountType&&"combo"!==e.discountType&&a.push((0,s.jsx)("div",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-700 ${t}`,children:e.offerLabel||("percentage"===e.discountType?`${e.discountValue}% Off`:`â‚¨${e.discountValue} Off`)},"discount")),0===a.length)?null:(0,s.jsx)("div",{className:"flex flex-wrap gap-1",children:a})}var c=e.i(29710);function x({product:e,size:t="md",showSavings:a=!0}){let l=e.discountType&&"none"!==e.discountType,r=e.finalPrice||e.price,i=e.savingsAmount||0,n=e.savingsPercentage||0,d={sm:"text-lg",md:"text-2xl",lg:"text-3xl"};return(0,s.jsx)("div",{className:"flex flex-col gap-1",children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm line-through text-text-muted",children:(0,c.formatCurrency)(e.price)}),a&&(0,s.jsxs)("span",{className:"text-xs font-semibold text-green-600 bg-green-50 px-2 py-0.5 rounded",children:["Save ",n.toFixed(0),"%"]})]}),(0,s.jsx)("span",{className:`font-bold text-green-600 ${d[t]}`,children:(0,c.formatCurrency)(r)}),a&&(0,s.jsxs)("span",{className:"text-xs text-text-muted",children:["You save ",(0,c.formatCurrency)(i)]})]}):(0,s.jsx)("span",{className:`font-bold text-text ${d[t]}`,children:(0,c.formatCurrency)(e.price)})})}let u=[{label:"Default",value:""},{label:"Price: Low to High",value:"price"},{label:"Price: High to Low",value:"-price"},{label:"Rating",value:"-rating"},{label:"Newest",value:"-createdAt"}],m=[{label:"All Items",value:""},{label:"Hot Deals",value:"isHotDeal"},{label:"Featured",value:"isFeatured"},{label:"Today's Special",value:"isDailySpecial"},{label:"Chef's Special",value:"isChefSpecial"},{label:"On Offer",value:"onOffer"}];function g(){(0,a.useRouter)();let[e,c]=(0,t.useState)([]),[g,h]=(0,t.useState)([]),[p,f]=(0,t.useState)({page:1,limit:12,total:0,pages:0}),[b,y]=(0,t.useState)(!0),[j,v]=(0,t.useState)(null),[w,N]=(0,t.useState)(""),[S,C]=(0,t.useState)(""),[F,$]=(0,t.useState)(!1),[T,k]=(0,t.useState)(""),[A,_]=(0,t.useState)(1),[D,O]=(0,t.useState)(""),[H,P]=(0,t.useState)("");(0,t.useEffect)(()=>{let e=setTimeout(()=>{P(w),_(1)},400);return()=>clearTimeout(e)},[w]),(0,t.useEffect)(()=>{R()},[]),(0,t.useEffect)(()=>{z()},[H,S,F,T,A,D]);let R=async()=>{try{let e=await i.default.get("/categories");h(e.data.categories||e.data||[])}catch{}},z=async()=>{y(!0);try{let e=new URLSearchParams;e.set("page",String(A)),e.set("limit","12"),H&&e.set("search",H),S&&e.set("category",S),F&&e.set("isVeg","true"),T&&e.set("sort",T),D&&e.set(D,"true");let s=await i.default.get(`/products?${e.toString()}`);c(s.data.products||[]),f(s.data.pagination||{page:1,limit:12,total:0,pages:0})}catch(e){n.default.error(e.response?.data?.message||"Failed to load menu")}finally{y(!1)}},L=async e=>{v(e);try{await i.default.post("/cart/add",{productId:e,quantity:1}),n.default.success("Added to cart!")}catch(e){n.default.error(e.response?.data?.message||"Failed to add to cart")}finally{v(null)}},V=e=>{C(e),_(1)},U=e=>"object"==typeof e.category&&null!==e.category?e.category.name:"",E=()=>(0,s.jsxs)("div",{className:"animate-pulse rounded-xl bg-white shadow-sm",children:[(0,s.jsx)("div",{className:"h-48 rounded-t-xl bg-gray-200"}),(0,s.jsxs)("div",{className:"p-4 space-y-3",children:[(0,s.jsx)("div",{className:"h-4 w-3/4 rounded bg-gray-200"}),(0,s.jsx)("div",{className:"h-3 w-1/2 rounded bg-gray-200"}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"h-5 w-16 rounded bg-gray-200"}),(0,s.jsx)("div",{className:"h-8 w-24 rounded bg-gray-200"})]})]})]});return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Menu"}),(0,s.jsx)("p",{className:"mt-1 text-gray-500",children:"Explore our delicious offerings and add your favorites to the cart."})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.FiSearch,{className:"absolute left-3 top-1/2 h-5 w-5 -translate-y-1/2 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"Search dishes...",value:w,onChange:e=>N(e.target.value),className:"w-full rounded-xl border border-gray-200 bg-white py-3 pl-10 pr-4 text-sm text-gray-700 placeholder-gray-400 shadow-sm outline-none transition-colors focus:border-[#c47a5a] focus:ring-1 focus:ring-[#c47a5a]"})]}),(0,s.jsxs)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:[(0,s.jsx)("button",{onClick:()=>V(""),className:`shrink-0 rounded-full px-4 py-2 text-sm font-medium transition-colors ${""===S?"bg-[#c47a5a] text-white":"bg-white text-gray-600 shadow-sm hover:bg-gray-50"}`,children:"All"}),g.filter(e=>"all"!==e.name.trim().toLowerCase()).map(e=>(0,s.jsx)("button",{onClick:()=>V(e._id),className:`shrink-0 rounded-full px-4 py-2 text-sm font-medium transition-colors ${S===e._id?"bg-[#c47a5a] text-white":"bg-white text-gray-600 shadow-sm hover:bg-gray-50"}`,children:e.name},e._id))]}),(0,s.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-hide",children:m.map(e=>(0,s.jsx)("button",{onClick:()=>O(e.value),className:`shrink-0 rounded-full px-4 py-2 text-sm font-medium transition-colors ${D===e.value?"bg-[#c47a5a] text-white":"bg-white text-gray-600 shadow-sm hover:bg-gray-50"}`,children:e.label},e.value))}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,s.jsxs)("button",{onClick:()=>{$(e=>!e),_(1)},className:`flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-colors ${F?"bg-green-500 text-white":"bg-white text-gray-600 shadow-sm hover:bg-gray-50"}`,children:[(0,s.jsx)("span",{className:`inline-block h-3 w-3 rounded-sm border-2 ${F?"border-white bg-white":"border-green-500 bg-green-500"}`}),"Veg Only"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.FiFilter,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("select",{value:T,onChange:e=>{k(e.target.value),_(1)},className:"rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm text-gray-700 outline-none focus:border-[#c47a5a] focus:ring-1 focus:ring-[#c47a5a]",children:u.map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))})]})]})]}),b?(0,s.jsx)("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8}).map((e,t)=>(0,s.jsx)(E,{},t))}):0===e.length?(0,s.jsxs)("div",{className:"py-20 text-center",children:[(0,s.jsx)(d.FiSearch,{className:"mx-auto mb-3 h-12 w-12 text-gray-300"}),(0,s.jsx)("p",{className:"text-lg font-medium text-gray-500",children:"No dishes found"}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-400",children:"Try adjusting your search or filters."})]}):(0,s.jsx)("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(e=>(0,s.jsxs)("div",{className:"group overflow-hidden rounded-xl bg-white shadow-sm transition-shadow hover:shadow-md",children:[(0,s.jsx)(r.default,{href:`/menu/${e._id}`,className:"block relative",children:(0,s.jsxs)("div",{className:"relative h-48 w-full overflow-hidden bg-gray-100",children:[(0,s.jsx)(l.default,{src:(0,i.getImageUrl)(e.image),alt:e.name,width:400,height:300,unoptimized:!0,className:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"}),(0,s.jsx)("span",{className:`absolute left-2 top-2 inline-flex h-5 w-5 items-center justify-center rounded-sm border-2 ${e.isVeg?"border-green-500":"border-red-500"}`,children:(0,s.jsx)("span",{className:`h-2 w-2 rounded-full ${e.isVeg?"bg-green-500":"bg-red-500"}`})}),!e.isAvailable&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:(0,s.jsx)("span",{className:"rounded-full bg-white px-3 py-1 text-sm font-medium text-gray-700",children:"Unavailable"})})]})}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)(r.default,{href:`/menu/${e._id}`,children:(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-800 line-clamp-1 hover:text-[#c47a5a] transition-colors",children:e.name})}),U(e)&&(0,s.jsx)("p",{className:"mt-0.5 text-xs text-gray-400",children:U(e)}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)(o,{product:e,className:"text-xs"})}),(0,s.jsxs)("div",{className:"mt-1.5 flex items-center gap-1",children:[(0,s.jsx)(d.FiStar,{className:"h-3.5 w-3.5 fill-yellow-400 text-yellow-400"}),(0,s.jsx)("span",{className:"text-xs font-medium text-gray-600",children:e.rating.toFixed(1)}),(0,s.jsxs)("span",{className:"text-xs text-gray-400",children:["(",e.numReviews,")"]})]}),(0,s.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,s.jsx)(x,{product:e,size:"sm",showSavings:!1}),(0,s.jsxs)("button",{onClick:()=>L(e._id),disabled:!e.isAvailable||j===e._id,className:"flex items-center gap-1.5 rounded-lg bg-[#c47a5a] px-3 py-1.5 text-xs font-medium text-white transition-colors hover:bg-[#b56a4a] disabled:cursor-not-allowed disabled:opacity-50",children:[j===e._id?(0,s.jsx)("span",{className:"h-3.5 w-3.5 animate-spin rounded-full border-2 border-white border-t-transparent"}):(0,s.jsx)(d.FiShoppingCart,{className:"h-3.5 w-3.5"}),"Add"]})]})]})]},e._id))}),p.pages>1&&(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 pt-4",children:[(0,s.jsx)("button",{onClick:()=>_(e=>Math.max(1,e-1)),disabled:1===A,className:"flex h-9 w-9 items-center justify-center rounded-lg border border-gray-200 bg-white text-gray-600 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40",children:(0,s.jsx)(d.FiChevronLeft,{className:"h-4 w-4"})}),Array.from({length:p.pages},(e,s)=>s+1).filter(e=>!!(p.pages<=5||1===e||e===p.pages||1>=Math.abs(e-A))).reduce((e,s,t,a)=>(t>0&&"number"==typeof a[t-1]&&s-a[t-1]>1&&e.push("..."),e.push(s),e),[]).map((e,t)=>"string"==typeof e?(0,s.jsx)("span",{className:"px-1 text-gray-400",children:"..."},`dots-${t}`):(0,s.jsx)("button",{onClick:()=>_(e),className:`flex h-9 w-9 items-center justify-center rounded-lg text-sm font-medium transition-colors ${A===e?"bg-[#c47a5a] text-white":"border border-gray-200 bg-white text-gray-600 hover:bg-gray-50"}`,children:e},e)),(0,s.jsx)("button",{onClick:()=>_(e=>Math.min(p.pages,e+1)),disabled:A===p.pages,className:"flex h-9 w-9 items-center justify-center rounded-lg border border-gray-200 bg-white text-gray-600 transition-colors hover:bg-gray-50 disabled:cursor-not-allowed disabled:opacity-40",children:(0,s.jsx)(d.FiChevronRight,{className:"h-4 w-4"})})]})]})}e.s(["default",()=>g],2378)}]);