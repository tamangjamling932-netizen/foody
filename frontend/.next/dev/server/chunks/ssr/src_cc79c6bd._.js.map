{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/trish/Documents/joseph/foody/frontend/src/schemas/product.schema.ts"],"sourcesContent":["import { z } from \"zod\";\n\nexport const createProductSchema = z.object({\n  name: z.string().min(2, \"Product name is required\"),\n  description: z.string().optional(),\n  price: z.coerce.number().positive(\"Price must be positive\"),\n  category: z.string().min(1, \"Category is required\"),\n  isVeg: z.boolean().optional(),\n  isAvailable: z.boolean().optional(),\n  // Promotional flags\n  isFeatured: z.boolean().optional(),\n  isHotDeal: z.boolean().optional(),\n  isDailySpecial: z.boolean().optional(),\n  isChefSpecial: z.boolean().optional(),\n  // Discount fields\n  discountType: z.enum([\"none\", \"percentage\", \"fixed\", \"bogo\", \"combo\"]).default(\"none\").optional(),\n  discountValue: z.coerce.number().min(0).optional(),\n  offerLabel: z.string().optional(),\n  offerValidUntil: z.string().optional(),\n  // BOGO config\n  bogoQuantity: z.coerce.number().min(0).optional(),\n  bogoFreeQuantity: z.coerce.number().min(0).optional(),\n});\n\nexport const orderCheckoutSchema = z.object({\n  tableNumber: z.string().optional(),\n  notes: z.string().optional(),\n});\n\nexport type CreateProductInput = z.infer<typeof createProductSchema>;\nexport type OrderCheckoutInput = z.infer<typeof orderCheckoutSchema>;\n"],"names":[],"mappings":";;;;;;AAAA;;AAEO,MAAM,sBAAsB,kLAAC,CAAC,MAAM,CAAC;IAC1C,MAAM,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IACxB,aAAa,kLAAC,CAAC,MAAM,GAAG,QAAQ;IAChC,OAAO,kLAAC,CAAC,MAAM,CAAC,MAAM,GAAG,QAAQ,CAAC;IAClC,UAAU,kLAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,OAAO,kLAAC,CAAC,OAAO,GAAG,QAAQ;IAC3B,aAAa,kLAAC,CAAC,OAAO,GAAG,QAAQ;IACjC,oBAAoB;IACpB,YAAY,kLAAC,CAAC,OAAO,GAAG,QAAQ;IAChC,WAAW,kLAAC,CAAC,OAAO,GAAG,QAAQ;IAC/B,gBAAgB,kLAAC,CAAC,OAAO,GAAG,QAAQ;IACpC,eAAe,kLAAC,CAAC,OAAO,GAAG,QAAQ;IACnC,kBAAkB;IAClB,cAAc,kLAAC,CAAC,IAAI,CAAC;QAAC;QAAQ;QAAc;QAAS;QAAQ;KAAQ,EAAE,OAAO,CAAC,QAAQ,QAAQ;IAC/F,eAAe,kLAAC,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ;IAChD,YAAY,kLAAC,CAAC,MAAM,GAAG,QAAQ;IAC/B,iBAAiB,kLAAC,CAAC,MAAM,GAAG,QAAQ;IACpC,cAAc;IACd,cAAc,kLAAC,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ;IAC/C,kBAAkB,kLAAC,CAAC,MAAM,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,QAAQ;AACrD;AAEO,MAAM,sBAAsB,kLAAC,CAAC,MAAM,CAAC;IAC1C,aAAa,kLAAC,CAAC,MAAM,GAAG,QAAQ;IAChC,OAAO,kLAAC,CAAC,MAAM,GAAG,QAAQ;AAC5B"}},
    {"offset": {"line": 47, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/trish/Documents/joseph/foody/frontend/src/app/%28dashboard%29/%28admin%29/admin/products/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useRef } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport API, { getImageUrl } from \"@/lib/api\";\nimport { useAuth } from \"@/hooks/useAuth\";\nimport { Product, Category, Pagination } from \"@/types\";\nimport { createProductSchema, CreateProductInput } from \"@/schemas/product.schema\";\nimport Image from \"next/image\";\nimport toast from \"react-hot-toast\";\nimport { formatCurrency } from \"@/lib/currency\";\nimport {\n  FiPlus,\n  FiEdit2,\n  FiTrash2,\n  FiSearch,\n  FiX,\n  FiChevronLeft,\n  FiChevronRight,\n  FiUpload,\n  FiPackage,\n  FiTag,\n  FiZap,\n  FiAward,\n  FiTarget,\n  FiStar,\n} from \"react-icons/fi\";\n\nexport default function AdminProductsPage() {\n  const { user } = useAuth();\n  const [products, setProducts] = useState<Product[]>([]);\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [pagination, setPagination] = useState<Pagination>({ page: 1, limit: 10, total: 0, pages: 1 });\n  const [loading, setLoading] = useState(true);\n  const [search, setSearch] = useState(\"\");\n  const [categoryFilter, setCategoryFilter] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n  const [submitting, setSubmitting] = useState(false);\n  const [imageFile, setImageFile] = useState<File | null>(null);\n  const [imagePreview, setImagePreview] = useState<string | null>(null);\n  const [deletingId, setDeletingId] = useState<string | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const {\n    register,\n    handleSubmit,\n    reset,\n    setValue,\n    formState: { errors },\n  } = useForm<CreateProductInput>({\n    resolver: zodResolver(createProductSchema) as any,\n  });\n\n  useEffect(() => {\n    fetchCategories();\n  }, []);\n\n  useEffect(() => {\n    fetchProducts();\n  }, [pagination.page, categoryFilter]);\n\n  const fetchCategories = async () => {\n    try {\n      const res = await API.get(\"/categories\");\n      setCategories(res.data.categories || res.data || []);\n    } catch {\n      toast.error(\"Failed to load categories\");\n    }\n  };\n\n  const fetchProducts = async () => {\n    setLoading(true);\n    try {\n      const params: Record<string, string | number> = {\n        page: pagination.page,\n        limit: pagination.limit,\n      };\n      if (categoryFilter) params.category = categoryFilter;\n      if (search) params.search = search;\n      const res = await API.get(\"/products\", { params });\n      setProducts(res.data.products || res.data.data || []);\n      if (res.data.pagination) setPagination(res.data.pagination);\n    } catch {\n      toast.error(\"Failed to load products\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleSearch = () => {\n    setPagination((p) => ({ ...p, page: 1 }));\n    fetchProducts();\n  };\n\n  const openAddModal = () => {\n    setEditingProduct(null);\n    reset({\n      name: \"\",\n      description: \"\",\n      price: 0,\n      category: \"\",\n      isVeg: false,\n      isAvailable: true,\n      isFeatured: false,\n      isHotDeal: false,\n      isDailySpecial: false,\n      isChefSpecial: false,\n      discountType: \"none\",\n      discountValue: 0,\n      offerLabel: \"\",\n      offerValidUntil: \"\",\n      bogoQuantity: 0,\n      bogoFreeQuantity: 0,\n    });\n    setImageFile(null);\n    setImagePreview(null);\n    setShowModal(true);\n  };\n\n  const openEditModal = (product: Product) => {\n    setEditingProduct(product);\n    const catId = typeof product.category === \"string\" ? product.category : product.category._id;\n    reset({\n      name: product.name,\n      description: product.description || \"\",\n      price: product.price,\n      category: catId,\n      isVeg: product.isVeg,\n      isAvailable: product.isAvailable,\n      isFeatured: product.isFeatured,\n      isHotDeal: product.isHotDeal,\n      isDailySpecial: product.isDailySpecial,\n      isChefSpecial: product.isChefSpecial,\n      discountType: product.discountType || \"none\",\n      discountValue: product.discountValue || 0,\n      offerLabel: product.offerLabel || \"\",\n      offerValidUntil: product.offerValidUntil ? product.offerValidUntil.split(\"T\")[0] : \"\",\n      bogoQuantity: 0,\n      bogoFreeQuantity: 0,\n    });\n    setImageFile(null);\n    setImagePreview(product.image ? getImageUrl(product.image) : null);\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n    setEditingProduct(null);\n    setImageFile(null);\n    setImagePreview(null);\n  };\n\n  const handleImageChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setImageFile(file);\n      setImagePreview(URL.createObjectURL(file));\n    }\n  };\n\n  const onSubmit = async (data: CreateProductInput) => {\n    setSubmitting(true);\n    try {\n      const formData = new FormData();\n      formData.append(\"name\", data.name);\n      if (data.description) formData.append(\"description\", data.description);\n      formData.append(\"price\", String(data.price));\n      formData.append(\"category\", data.category);\n      formData.append(\"isVeg\", String(data.isVeg ?? false));\n      formData.append(\"isAvailable\", String(data.isAvailable ?? true));\n\n      // Promotional fields\n      formData.append(\"isFeatured\", String(data.isFeatured ?? false));\n      formData.append(\"isHotDeal\", String(data.isHotDeal ?? false));\n      formData.append(\"isDailySpecial\", String(data.isDailySpecial ?? false));\n      formData.append(\"isChefSpecial\", String(data.isChefSpecial ?? false));\n\n      // Discount fields\n      formData.append(\"discountType\", data.discountType || \"none\");\n      formData.append(\"discountValue\", String(data.discountValue || 0));\n      if (data.offerLabel) formData.append(\"offerLabel\", data.offerLabel);\n      if (data.offerValidUntil) formData.append(\"offerValidUntil\", data.offerValidUntil);\n\n      if (imageFile) formData.append(\"image\", imageFile);\n\n      if (editingProduct) {\n        await API.put(`/products/${editingProduct._id}`, formData, {\n          headers: { \"Content-Type\": \"multipart/form-data\" },\n        });\n        toast.success(\"Product updated successfully\");\n      } else {\n        await API.post(\"/products\", formData, {\n          headers: { \"Content-Type\": \"multipart/form-data\" },\n        });\n        toast.success(\"Product created successfully\");\n      }\n      closeModal();\n      fetchProducts();\n    } catch (err: any) {\n      toast.error(err.response?.data?.message || \"Failed to save product\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  const toggleAvailability = async (product: Product) => {\n    try {\n      const formData = new FormData();\n      formData.append(\"isAvailable\", String(!product.isAvailable));\n      await API.put(`/products/${product._id}`, formData, {\n        headers: { \"Content-Type\": \"multipart/form-data\" },\n      });\n      setProducts((prev) =>\n        prev.map((p) => (p._id === product._id ? { ...p, isAvailable: !p.isAvailable } : p))\n      );\n      toast.success(`Product ${!product.isAvailable ? \"enabled\" : \"disabled\"}`);\n    } catch {\n      toast.error(\"Failed to update availability\");\n    }\n  };\n\n  const handleDelete = async (id: string) => {\n    if (deletingId) return;\n    setDeletingId(id);\n    try {\n      await API.delete(`/products/${id}`);\n      toast.success(\"Product deleted\");\n      fetchProducts();\n    } catch (err: any) {\n      toast.error(err.response?.data?.message || \"Failed to delete product\");\n    } finally {\n      setDeletingId(null);\n    }\n  };\n\n  const getCategoryName = (cat: Category | string) =>\n    typeof cat === \"string\" ? cat : cat.name;\n\n  if (loading && products.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center py-20\">\n        <div className=\"h-10 w-10 animate-spin rounded-full border-4 border-[#c47a5a] border-t-transparent\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-800\">Products</h1>\n          <p className=\"mt-1 text-gray-500\">Manage your menu products</p>\n        </div>\n        <button\n          onClick={openAddModal}\n          className=\"inline-flex items-center gap-2 rounded-lg bg-[#c47a5a] px-4 py-2.5 text-sm font-medium text-white transition-colors hover:bg-[#b36a4a]\"\n        >\n          <FiPlus className=\"h-4 w-4\" /> Add Product\n        </button>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex flex-col gap-3 sm:flex-row\">\n        <div className=\"relative flex-1\">\n          <FiSearch className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search products...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            onKeyDown={(e) => e.key === \"Enter\" && handleSearch()}\n            className=\"w-full rounded-lg border border-gray-200 py-2.5 pl-10 pr-4 text-sm focus:border-[#c47a5a] focus:outline-none focus:ring-1 focus:ring-[#c47a5a]\"\n          />\n        </div>\n        <select\n          value={categoryFilter}\n          onChange={(e) => {\n            setCategoryFilter(e.target.value);\n            setPagination((p) => ({ ...p, page: 1 }));\n          }}\n          className=\"rounded-lg border border-gray-200 px-4 py-2.5 text-sm focus:border-[#c47a5a] focus:outline-none focus:ring-1 focus:ring-[#c47a5a]\"\n        >\n          <option value=\"\">All Categories</option>\n          {categories.map((cat) => (\n            <option key={cat._id} value={cat._id}>\n              {cat.name}\n            </option>\n          ))}\n        </select>\n        <button\n          onClick={handleSearch}\n          className=\"rounded-lg bg-gray-100 px-4 py-2.5 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-200\"\n        >\n          Search\n        </button>\n      </div>\n\n      {/* Products Table */}\n      <div className=\"overflow-x-auto rounded-xl bg-white shadow-sm\">\n        <table className=\"w-full text-left text-sm\">\n          <thead>\n            <tr className=\"border-b border-gray-100\">\n              <th className=\"px-4 py-3 font-medium text-gray-500\">Product</th>\n              <th className=\"px-4 py-3 font-medium text-gray-500\">Category</th>\n              <th className=\"px-4 py-3 font-medium text-gray-500\">Price</th>\n              <th className=\"px-4 py-3 font-medium text-gray-500\">Promotions</th>\n              <th className=\"px-4 py-3 font-medium text-gray-500\">Discount</th>\n              <th className=\"px-4 py-3 font-medium text-gray-500\">Type</th>\n              <th className=\"px-4 py-3 font-medium text-gray-500\">Available</th>\n              <th className=\"px-4 py-3 font-medium text-gray-500\">Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            {products.length === 0 ? (\n              <tr>\n                <td colSpan={6} className=\"px-4 py-12 text-center text-gray-400\">\n                  <FiPackage className=\"mx-auto mb-2 h-10 w-10\" />\n                  <p>No products found.</p>\n                </td>\n              </tr>\n            ) : (\n              products.map((product) => (\n                <tr key={product._id} className=\"border-b border-gray-50 hover:bg-gray-50/50\">\n                  <td className=\"px-4 py-3\">\n                    <div className=\"flex items-center gap-3\">\n                      <div className=\"relative h-10 w-10 shrink-0 overflow-hidden rounded-lg\">\n                        <Image\n                          src={getImageUrl(product.image)}\n                          alt={product.name}\n                          fill\n                          className=\"object-cover\"\n                        />\n                      </div>\n                      <div>\n                        <p className=\"font-medium text-gray-800\">{product.name}</p>\n                        {product.description && (\n                          <p className=\"max-w-[200px] truncate text-xs text-gray-400\">\n                            {product.description}\n                          </p>\n                        )}\n                      </div>\n                    </div>\n                  </td>\n                  <td className=\"px-4 py-3 text-gray-600\">\n                    {getCategoryName(product.category)}\n                  </td>\n                  <td className=\"px-4 py-3 font-medium text-gray-800\">\n                    ${product.price.toFixed(2)}\n                  </td>\n                  <td className=\"px-4 py-3\">\n                    <span\n                      className={`inline-block rounded-full px-2.5 py-0.5 text-xs font-medium ${\n                        product.isVeg\n                          ? \"bg-green-100 text-green-700\"\n                          : \"bg-red-100 text-red-700\"\n                      }`}\n                    >\n                      {product.isVeg ? \"Veg\" : \"Non-Veg\"}\n                    </span>\n                  </td>\n                  <td className=\"px-4 py-3\">\n                    <button\n                      onClick={() => toggleAvailability(product)}\n                      className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${\n                        product.isAvailable ? \"bg-[#c47a5a]\" : \"bg-gray-300\"\n                      }`}\n                    >\n                      <span\n                        className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${\n                          product.isAvailable ? \"translate-x-6\" : \"translate-x-1\"\n                        }`}\n                      />\n                    </button>\n                  </td>\n                  <td className=\"px-4 py-3\">\n                    <div className=\"flex items-center gap-2\">\n                      <button\n                        onClick={() => openEditModal(product)}\n                        className=\"rounded-lg p-2 text-gray-400 transition-colors hover:bg-[#c47a5a]/10 hover:text-[#c47a5a]\"\n                      >\n                        <FiEdit2 className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => {\n                          if (confirm(\"Are you sure you want to delete this product?\")) {\n                            handleDelete(product._id);\n                          }\n                        }}\n                        disabled={deletingId === product._id}\n                        className=\"rounded-lg p-2 text-gray-400 transition-colors hover:bg-red-50 hover:text-red-500 disabled:opacity-50\"\n                      >\n                        <FiTrash2 className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              ))\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Pagination */}\n      {pagination.pages > 1 && (\n        <div className=\"flex items-center justify-between\">\n          <p className=\"text-sm text-gray-500\">\n            Showing page {pagination.page} of {pagination.pages} ({pagination.total} products)\n          </p>\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => setPagination((p) => ({ ...p, page: p.page - 1 }))}\n              disabled={pagination.page <= 1}\n              className=\"rounded-lg border border-gray-200 p-2 text-gray-600 transition-colors hover:bg-gray-50 disabled:opacity-50\"\n            >\n              <FiChevronLeft className=\"h-4 w-4\" />\n            </button>\n            <button\n              onClick={() => setPagination((p) => ({ ...p, page: p.page + 1 }))}\n              disabled={pagination.page >= pagination.pages}\n              className=\"rounded-lg border border-gray-200 p-2 text-gray-600 transition-colors hover:bg-gray-50 disabled:opacity-50\"\n            >\n              <FiChevronRight className=\"h-4 w-4\" />\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Modal */}\n      {showModal && (\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4\">\n          <div className=\"w-full max-w-lg rounded-xl bg-white p-6 shadow-xl\">\n            <div className=\"mb-4 flex items-center justify-between\">\n              <h2 className=\"text-lg font-semibold text-gray-800\">\n                {editingProduct ? \"Edit Product\" : \"Add Product\"}\n              </h2>\n              <button onClick={closeModal} className=\"rounded-lg p-1 text-gray-400 hover:text-gray-600\">\n                <FiX className=\"h-5 w-5\" />\n              </button>\n            </div>\n\n            <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n              <div>\n                <label className=\"mb-1 block text-sm font-medium text-gray-700\">Name</label>\n                <input\n                  {...register(\"name\")}\n                  className=\"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:border-[#c47a5a] focus:outline-none focus:ring-1 focus:ring-[#c47a5a]\"\n                />\n                {errors.name && <p className=\"mt-1 text-xs text-red-500\">{errors.name.message}</p>}\n              </div>\n\n              <div>\n                <label className=\"mb-1 block text-sm font-medium text-gray-700\">Description</label>\n                <textarea\n                  {...register(\"description\")}\n                  rows={2}\n                  className=\"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:border-[#c47a5a] focus:outline-none focus:ring-1 focus:ring-[#c47a5a]\"\n                />\n              </div>\n\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"mb-1 block text-sm font-medium text-gray-700\">Price</label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    {...register(\"price\")}\n                    className=\"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:border-[#c47a5a] focus:outline-none focus:ring-1 focus:ring-[#c47a5a]\"\n                  />\n                  {errors.price && <p className=\"mt-1 text-xs text-red-500\">{errors.price.message}</p>}\n                </div>\n\n                <div>\n                  <label className=\"mb-1 block text-sm font-medium text-gray-700\">Category</label>\n                  <select\n                    {...register(\"category\")}\n                    className=\"w-full rounded-lg border border-gray-200 px-3 py-2 text-sm focus:border-[#c47a5a] focus:outline-none focus:ring-1 focus:ring-[#c47a5a]\"\n                  >\n                    <option value=\"\">Select category</option>\n                    {categories.map((cat) => (\n                      <option key={cat._id} value={cat._id}>\n                        {cat.name}\n                      </option>\n                    ))}\n                  </select>\n                  {errors.category && (\n                    <p className=\"mt-1 text-xs text-red-500\">{errors.category.message}</p>\n                  )}\n                </div>\n              </div>\n\n              <div className=\"flex items-center gap-6\">\n                <label className=\"flex items-center gap-2\">\n                  <input\n                    type=\"checkbox\"\n                    {...register(\"isVeg\")}\n                    className=\"h-4 w-4 rounded border-gray-300 text-[#c47a5a] focus:ring-[#c47a5a]\"\n                  />\n                  <span className=\"text-sm text-gray-700\">Vegetarian</span>\n                </label>\n                <label className=\"flex items-center gap-2\">\n                  <input\n                    type=\"checkbox\"\n                    {...register(\"isAvailable\")}\n                    className=\"h-4 w-4 rounded border-gray-300 text-[#c47a5a] focus:ring-[#c47a5a]\"\n                  />\n                  <span className=\"text-sm text-gray-700\">Available</span>\n                </label>\n              </div>\n\n              {/* Image Upload */}\n              <div>\n                <label className=\"mb-1 block text-sm font-medium text-gray-700\">Image</label>\n                <div\n                  onClick={() => fileInputRef.current?.click()}\n                  className=\"flex cursor-pointer flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-200 p-4 transition-colors hover:border-[#c47a5a]/50\"\n                >\n                  {imagePreview ? (\n                    <div className=\"relative h-32 w-32 overflow-hidden rounded-lg\">\n                      <Image src={imagePreview} alt=\"Preview\" fill className=\"object-cover\" />\n                    </div>\n                  ) : (\n                    <>\n                      <FiUpload className=\"mb-2 h-8 w-8 text-gray-400\" />\n                      <p className=\"text-sm text-gray-500\">Click to upload image</p>\n                    </>\n                  )}\n                </div>\n                <input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={handleImageChange}\n                  className=\"hidden\"\n                />\n              </div>\n\n              <div className=\"flex justify-end gap-3 pt-2\">\n                <button\n                  type=\"button\"\n                  onClick={closeModal}\n                  className=\"rounded-lg border border-gray-200 px-4 py-2 text-sm font-medium text-gray-700 transition-colors hover:bg-gray-50\"\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={submitting}\n                  className=\"rounded-lg bg-[#c47a5a] px-4 py-2 text-sm font-medium text-white transition-colors hover:bg-[#b36a4a] disabled:opacity-50\"\n                >\n                  {submitting ? \"Saving...\" : editingProduct ? \"Update\" : \"Create\"}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}