{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/trish/Documents/joseph/foody/frontend/src/app/%28dashboard%29/%28customer%29/orders/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport API from \"@/lib/api\";\nimport { Order } from \"@/types\";\nimport toast from \"react-hot-toast\";\nimport {\n  FiClock,\n  FiPackage,\n  FiCheckCircle,\n  FiXCircle,\n  FiChevronRight,\n  FiShoppingBag,\n} from \"react-icons/fi\";\n\nconst STATUS_TABS = [\n  \"all\",\n  \"pending\",\n  \"confirmed\",\n  \"preparing\",\n  \"served\",\n  \"completed\",\n  \"cancelled\",\n] as const;\n\nconst STATUS_COLORS: Record<string, { bg: string; text: string; dot: string }> = {\n  pending: { bg: \"bg-yellow-50\", text: \"text-yellow-700\", dot: \"bg-yellow-500\" },\n  confirmed: { bg: \"bg-blue-50\", text: \"text-blue-700\", dot: \"bg-blue-500\" },\n  preparing: { bg: \"bg-orange-50\", text: \"text-orange-700\", dot: \"bg-orange-500\" },\n  served: { bg: \"bg-purple-50\", text: \"text-purple-700\", dot: \"bg-purple-500\" },\n  completed: { bg: \"bg-green-50\", text: \"text-green-700\", dot: \"bg-green-500\" },\n  cancelled: { bg: \"bg-red-50\", text: \"text-red-700\", dot: \"bg-red-500\" },\n};\n\nexport default function OrdersPage() {\n  const [orders, setOrders] = useState<Order[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [activeTab, setActiveTab] = useState<string>(\"all\");\n\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  const fetchOrders = async () => {\n    setLoading(true);\n    try {\n      const res = await API.get(\"/orders/my-orders\");\n      setOrders(res.data.orders || []);\n    } catch (error: any) {\n      toast.error(error.response?.data?.message || \"Failed to load orders\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredOrders =\n    activeTab === \"all\"\n      ? orders\n      : orders.filter((order) => order.status === activeTab);\n\n  const formatDate = (dateStr: string) => {\n    return new Date(dateStr).toLocaleDateString(\"en-IN\", {\n      day: \"numeric\",\n      month: \"short\",\n      year: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  const getItemsCount = (order: Order) => {\n    return order.items.reduce((sum, item) => sum + item.quantity, 0);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"h-8 w-40 rounded bg-gray-200 animate-pulse\" />\n        <div className=\"flex gap-2 overflow-x-auto\">\n          {Array.from({ length: 7 }).map((_, i) => (\n            <div\n              key={i}\n              className=\"h-9 w-24 shrink-0 rounded-lg bg-gray-200 animate-pulse\"\n            />\n          ))}\n        </div>\n        <div className=\"space-y-4\">\n          {Array.from({ length: 4 }).map((_, i) => (\n            <div\n              key={i}\n              className=\"rounded-xl bg-white p-5 shadow-sm animate-pulse\"\n            >\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-2\">\n                  <div className=\"h-4 w-32 rounded bg-gray-200\" />\n                  <div className=\"h-3 w-48 rounded bg-gray-200\" />\n                  <div className=\"h-3 w-24 rounded bg-gray-200\" />\n                </div>\n                <div className=\"space-y-2 text-right\">\n                  <div className=\"ml-auto h-6 w-20 rounded-full bg-gray-200\" />\n                  <div className=\"ml-auto h-4 w-16 rounded bg-gray-200\" />\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-2xl font-bold text-gray-800\">My Orders</h1>\n        <p className=\"mt-1 text-sm text-gray-500\">\n          Track and manage your orders\n        </p>\n      </div>\n\n      {/* Status Filter Tabs */}\n      <div className=\"flex gap-2 overflow-x-auto pb-1\">\n        {STATUS_TABS.map((tab) => (\n          <button\n            key={tab}\n            onClick={() => setActiveTab(tab)}\n            className={`shrink-0 rounded-lg px-4 py-2 text-sm font-medium capitalize transition-colors ${\n              activeTab === tab\n                ? \"bg-[#c47a5a] text-white\"\n                : \"bg-white text-gray-600 shadow-sm hover:bg-gray-50\"\n            }`}\n          >\n            {tab}\n          </button>\n        ))}\n      </div>\n\n      {/* Orders List */}\n      {filteredOrders.length === 0 ? (\n        <div className=\"rounded-xl bg-white py-20 text-center shadow-sm\">\n          <FiShoppingBag className=\"mx-auto mb-4 h-16 w-16 text-gray-300\" />\n          <p className=\"text-lg font-medium text-gray-500\">\n            {activeTab === \"all\"\n              ? \"No orders yet\"\n              : `No ${activeTab} orders`}\n          </p>\n          <p className=\"mt-1 text-sm text-gray-400\">\n            {activeTab === \"all\"\n              ? \"Place your first order from the menu!\"\n              : \"Try checking a different status filter.\"}\n          </p>\n          {activeTab === \"all\" && (\n            <Link\n              href=\"/menu\"\n              className=\"mt-6 inline-flex items-center gap-2 rounded-xl bg-[#c47a5a] px-6 py-3 font-medium text-white transition-colors hover:bg-[#b56a4a]\"\n            >\n              <FiShoppingBag className=\"h-5 w-5\" />\n              Browse Menu\n            </Link>\n          )}\n        </div>\n      ) : (\n        <div className=\"space-y-4\">\n          {filteredOrders.map((order) => {\n            const colors = STATUS_COLORS[order.status];\n            return (\n              <Link\n                key={order._id}\n                href={`/orders/${order._id}`}\n                className=\"block rounded-xl bg-white p-5 shadow-sm transition-shadow hover:shadow-md\"\n              >\n                <div className=\"flex items-center justify-between gap-4\">\n                  <div className=\"min-w-0 flex-1 space-y-1.5\">\n                    {/* Order ID & Date */}\n                    <div className=\"flex flex-wrap items-center gap-2\">\n                      <span className=\"text-sm font-semibold text-gray-800\">\n                        #{order._id.slice(-6).toUpperCase()}\n                      </span>\n                      <span className=\"text-xs text-gray-400\">\n                        {formatDate(order.createdAt)}\n                      </span>\n                    </div>\n\n                    {/* Details Row */}\n                    <div className=\"flex flex-wrap items-center gap-3 text-xs text-gray-500\">\n                      {order.tableNumber && (\n                        <span className=\"flex items-center gap-1\">\n                          <FiPackage className=\"h-3.5 w-3.5\" />\n                          Table {order.tableNumber}\n                        </span>\n                      )}\n                      <span className=\"flex items-center gap-1\">\n                        <FiClock className=\"h-3.5 w-3.5\" />\n                        {getItemsCount(order)} item{getItemsCount(order) !== 1 ? \"s\" : \"\"}\n                      </span>\n                      <span className=\"font-semibold text-gray-700\">\n                        â‚¹{order.total.toFixed(2)}\n                      </span>\n                    </div>\n\n                    {/* Badges */}\n                    <div className=\"flex flex-wrap items-center gap-2\">\n                      <span\n                        className={`inline-flex items-center gap-1.5 rounded-full px-2.5 py-0.5 text-xs font-medium ${colors.bg} ${colors.text}`}\n                      >\n                        <span className={`h-1.5 w-1.5 rounded-full ${colors.dot}`} />\n                        {order.status.charAt(0).toUpperCase() + order.status.slice(1)}\n                      </span>\n                      <span\n                        className={`inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-medium ${\n                          order.isPaid\n                            ? \"bg-green-50 text-green-700\"\n                            : \"bg-gray-100 text-gray-500\"\n                        }`}\n                      >\n                        {order.isPaid ? (\n                          <FiCheckCircle className=\"h-3 w-3\" />\n                        ) : (\n                          <FiXCircle className=\"h-3 w-3\" />\n                        )}\n                        {order.isPaid ? \"Paid\" : \"Unpaid\"}\n                      </span>\n                    </div>\n                  </div>\n\n                  <FiChevronRight className=\"h-5 w-5 shrink-0 text-gray-400\" />\n                </div>\n              </Link>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}